(()=>{"use strict";var e={497:(e,t,s)=>{var i=s(569);e.exports&&(e.exports={ImageEmitter:i.ImageEmitter}),"object"==typeof window&&(window.ImageEmitter=i.ImageEmitter)},569:(e,t,s)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEmitter=void 0;var i=s(507);class o extends i.ImageEvents{constructor(e){super(),this.images=[],this.isComplete=!1,this.elements=e instanceof NodeList?Array.from(e):[e],this.initImages(),this.checkImages()}initImages(){this.elements.forEach((e=>{"IMG"===e.tagName&&e.setAttribute("data-loaded","false")}))}checkImages(){const e=this.elements.filter((e=>"IMG"===e.tagName)).length+this.elements.filter((e=>"none"!==window.getComputedStyle(e).backgroundImage)).length;let t=0;this.elements.forEach((s=>{if("IMG"===s.tagName)this.loadImage(s,(()=>{t++,s.setAttribute("data-loaded","true"),this.progress(t,e)}));else{const i=window.getComputedStyle(s).backgroundImage;if("none"!==i){const s=i.slice(5,-2);this.loadBackgroundImage(s,(()=>{t++,this.progress(t,e)}))}}}))}loadImage(e,t){const s=new Image;s.onload=()=>{this.images.push({imgElement:e,isLoaded:!0}),t()},s.onerror=()=>{this.images.push({imgElement:e,isLoaded:!1}),t()},s.src=e.src}loadBackgroundImage(e,t){const s=new Image;s.onload=()=>{this.images.push({url:e,isLoaded:!0}),t()},s.onerror=()=>{this.images.push({url:e,isLoaded:!1}),t()},s.src=e}progress(e,t){if(e===t){this.isComplete=!0;const e=this.images.filter((e=>!e.isLoaded)).length;0===e?this.emitEvent("done"):e===t&&this.emitEvent("fail"),this.emitEvent("always")}else this.emitEvent("progress",[e,t])}}t.ImageEmitter=o},507:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ImageEvents=void 0;t.ImageEvents=class{constructor(){this._events={},this._onceEvents={}}on(e,t){e&&t&&(this._events[e]=this._events[e]||[],this._events[e].includes(t)||this._events[e].push(t))}once(e,t){e&&t&&(this.on(e,t),this._onceEvents[e]=this._onceEvents[e]||{},this._onceEvents[e][t]=!0)}off(e,t){let s=this._events[e];if(s){const e=s.indexOf(t);-1!=e&&s.splice(e,1)}this._onceEvents[e]&&delete this._onceEvents[e][t]}emitEvent(e,t=[]){var s;let i=(null===(s=this._events[e])||void 0===s?void 0:s.slice())||[],o=this._onceEvents[e];for(let s of i)o&&o[s]&&this.off(e,s),s.apply(this,t)}allOff(){this._events={},this._onceEvents={}}}}},t={};var s=function s(i){var o=t[i];if(void 0!==o)return o.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,s),n.exports}(497);module.exports=s})();